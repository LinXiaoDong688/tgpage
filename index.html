<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恋爱周期情景测试：从心动到心碎</title>
    <style>
        body {
            font-family: 'Noto Sans SC', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            transition: background-color 0.5s ease;
            color: #333;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            max-width: 600px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #e91e63;
        }
        .disclaimer {
            background: #fff3f3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            font-size: 14px;
            color: #555;
        }
        .question {
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .question.active {
            display: block;
            opacity: 1;
        }
        .option {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }
        .option:hover {
            background: #e0e0e0;
        }
        .response {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #e0f7d8;
            padding: 10px 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            font-size: 14px;
            display: none;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .response.active {
            display: block;
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }
        .response.swipe-up {
            transform: translateX(-50%) translateY(-100px);
            opacity: 0;
        }
        .close-btn {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            font-size: 16px;
            color: #555;
        }
        #result {
            display: none;
            text-align: center;
        }
        #score {
            font-size: 36px;
            font-weight: bold;
            margin: 20px 0;
        }
        #scoreBar {
            width: 0;
            height: 20px;
            background: #e91e63;
            transition: width 0.1s;
            border-radius: 5px;
            margin: 10px auto;
            max-width: 400px;
        }
        #comment {
            font-size: 18px;
            margin-top: 10px;
        }
        button {
            padding: 10px 20px;
            background: #e91e63;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        button:hover {
            background: #d81b60;
        }
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #ffebee;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        #loading p {
            font-size: 18px;
            color: #e91e63;
            margin-top: 20px;
        }
        .loader {
            border: 8px solid #f3f3f3;
            border-top: 8px solid #e91e63;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .music-credit {
            background: #fff3f3;
            padding: 10px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 12px;
            color: #555;
            text-align: center;
        }
        @media (min-width: 601px) {
            .response {
                bottom: 20px;
                left: auto;
                right: -300px;
                transform: none;
                transition: right 0.3s ease;
            }
            .response.active {
                right: 20px;
                display: block;
            }
        }
    </style>
</head>
<body style="background-color: #ffebee;">
    <div id="loading">
        <div class="loader"></div>
        <p>正在加载资源，请稍候…<br>请打开音量，体验效果更佳！<br>如遇卡顿，点击空白处跳过加载</p>
    </div>
    <audio id="bgm1" preload="auto" loop>
        <source src="sweet_bgm.mp3" type="audio/mpeg">
    </audio>
    <audio id="bgm2" preload="auto" loop>
        <source src="sad_bgm.mp3" type="audio/mpeg">
    </audio>
    <div class="container">
        <h1>恋爱周期情景测试：从心动到心碎</h1>
        <div class="disclaimer">
            <p><strong>免责声明</strong>：本测试仅供娱乐，旨在让你体验恋爱中的真实抉择。请根据第一直觉选择答案，不要纠结！现实情况因人而异，测试结果仅供参考，祝你玩得开心！</p>
        </div>
        <div id="questions">
            <div class="question" data-index="1" data-bg="#ffebee">
                <p><strong>第1题（暗恋第1周）</strong><br>你和小雅在公司团建认识，她主动跟你聊天，问你平时爱做什么。你会：</p>
                <div class="option" data-score="10">A. 热情分享你的兴趣，邀她一起试试。</div>
                <div class="option" data-score="5">B. 简单说几个爱好，观察她的反应。</div>
                <div class="option" data-score="5">C. 笑着说没什么特别的，反问她喜欢什么。</div>
                <div class="option" data-score="-5">D. 说你忙，没什么时间玩。</div>
                <div class="response">小雅：<span id="response-1"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="2" data-bg="#ffebee">
                <p><strong>第2题（暗恋第1周）</strong><br>小雅在咖啡店忘了带钱包，尴尬地看向你。你会：</p>
                <div class="option" data-score="10">A. 主动帮她付钱，说没事。</div>
                <div class="option" data-score="5">B. 笑着说借她，下次请回来。</div>
                <div class="option" data-score="5">C. 建议她用微信支付，看看能不能解决。</div>
                <div class="option" data-score="-5">D. 说你也没带现金，帮不了。</div>
                <div class="response">小雅：<span id="response-2"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="3" data-bg="#ffebee">
                <p><strong>第3题（暗恋第2周）</strong><br>你想约小雅周末看电影，但她还没回复你的微信。你会：</p>
                <div class="option" data-score="5">A. 再发一条，热情推荐一部新片。</div>
                <div class="option" data-score="5">B. 等一天，看她回不回。</div>
                <div class="option" data-score="5">C. 发条消息问她忙不忙，试探她态度。</div>
                <div class="option" data-score="-5">D. 觉得自己主动太多，不再联系。</div>
                <div class="response">小雅：<span id="response-3"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="4" data-bg="#ffebee">
                <p><strong>第4题（暗恋第2周）</strong><br>小雅发朋友圈说“周末好无聊”，你看到后会：</p>
                <div class="option" data-score="10">A. 点赞并评论，约她出去玩。</div>
                <div class="option" data-score="5">B. 点赞，私聊问她有没啥计划。</div>
                <div class="option" data-score="0">C. 看完没反应，觉得不熟。</div>
                <div class="option" data-score="-5">D. 觉得她爱作，懒得理。</div>
                <div class="response">小雅：<span id="response-4"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="5" data-bg="#ffebee">
                <p><strong>第5题（暗恋第3周）</strong><br>你在公司帮小雅拿了份外卖，她笑着说谢谢。你会：</p>
                <div class="option" data-score="10">A. 说小事一桩，聊聊她爱吃啥。</div>
                <div class="option" data-score="5">B. 笑着说没事，下次她请。</div>
                <div class="option" data-score="0">C. 点点头，没多说。</div>
                <div class="option" data-score="-5">D. 说她下次自己拿，别麻烦人。</div>
                <div class="response">小雅：<span id="response-5"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="6" data-bg="#ffebee">
                <p><strong>第6题（暗恋第3周）</strong><br>你想带小雅一起认识朋友。你会：</p>
                <div class="option" data-score="10">A. 直接邀她，介绍她给朋友。</div>
                <div class="option" data-score="5">B. 先问她愿不愿意参加。</div>
                <div class="option" data-score="0">C. 犹豫后决定不邀，怕她不自在。</div>
                <div class="option" data-score="-5">D. 觉得她不熟，懒得带。</div>
                <div class="response">小雅：<span id="response-6"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="7" data-bg="#ffebee">
                <p><strong>第7题（暗恋第4周）</strong><br>小雅加班到很晚，发消息说好累。你会：</p>
                <div class="option" data-score="10">A. 回复关心她，建议她早点休息。</div>
                <div class="option" data-score="5">B. 说加班辛苦，聊聊她的工作。</div>
                <div class="option" data-score="0">C. 简单回复“辛苦了”就没下文。</div>
                <div class="option" data-score="-5">D. 说加班别抱怨，正常的事。</div>
                <div class="response">小雅：<span id="response-7"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="8" data-bg="#ffebee">
                <p><strong>第8题（暗恋第4周）</strong><br>你想送小雅一杯奶茶，但不知道她喜欢什么口味。你会：</p>
                <div class="option" data-score="10">A. 直接买经典款，送她当惊喜。</div>
                <div class="option" data-score="5">B. 先问她喜欢什么口味。</div>
                <div class="option" data-score="0">C. 买了自己喜欢的，觉得她应该OK。</div>
                <div class="option" data-score="-5">D. 觉得送奶茶没意义，不送。</div>
                <div class="response">小雅：<span id="response-8"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="9" data-bg="#ffebee">
                <p><strong>第9题（暗恋第5周）</strong><br>小雅在群聊里分享了个搞笑视频，你会：</p>
                <div class="option" data-score="10">A. 私聊她，说视频好笑，顺便聊聊。</div>
                <div class="option" data-score="5">B. 在群里回复，夸她品味好。</div>
                <div class="option" data-score="0">C. 看完笑笑，没回复。</div>
                <div class="option" data-score="-5">D. 觉得视频无聊，懒得理。</div>
                <div class="response">小雅：<span id="response-9"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="10" data-bg="#ffebee">
                <p><strong>第10题（暗恋第5周）</strong><br>你发现小雅喜欢听某位歌手，你也挺喜欢。你会：</p>
                <div class="option" data-score="10">A. 分享一张专辑照片，约她一起听。</div>
                <div class="option" data-score="5">B. 发条消息说你也喜欢，聊聊歌手。</div>
                <div class="option" data-score="0">C. 没说什么，默默关注她的喜好。</div>
                <div class="option" data-score="-5">D. 觉得没必要聊，兴趣不同没事。</div>
                <div class="response">小雅：<span id="response-10"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="11" data-bg="#ffebee">
                <p><strong>第11题（暗恋第6周）</strong><br>小雅说她周末想去逛街，问你有没有空。你会：</p>
                <div class="option" data-score="10">A. 说有空，陪她去逛。</div>
                <div class="option" data-score="5">B. 说有点忙，但可以抽时间。</div>
                <div class="option" data-score="0">C. 问她想逛啥，决定再回复。</div>
                <div class="option" data-score="-5">D. 说你没兴趣逛街，让她自己去。</div>
                <div class="response">小雅：<span id="response-11"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="12" data-bg="#ffebee">
                <p><strong>第12题（暗恋第6周）</strong><br>你不小心弄丢了小雅借你的书，她问你书呢。你会：</p>
                <div class="option" data-score="10">A. 道歉并买本新的还她。</div>
                <div class="option" data-score="5">B. 说不小心丢了，愿意赔。</div>
                <div class="option" data-score="0">C. 说最近忙，回头找找。</div>
                <div class="option" data-score="-5">D. 说书不重要，干嘛在意。</div>
                <div class="response">小雅：<span id="response-12"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="13" data-bg="#ffebee">
                <p><strong>第13题（暗恋第7周）</strong><br>小雅在朋友圈晒了新买的裙子，你会：</p>
                <div class="option" data-score="10">A. 点赞评论，说她穿一定好看。</div>
                <div class="option" data-score="5">B. 点赞，没评论。</div>
                <div class="option" data-score="0">C. 看完没反应，觉得没必要。</div>
                <div class="option" data-score="-5">D. 觉得她爱炫耀，懒得理。</div>
                <div class="response">小雅：<span id="response-13"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="14" data-bg="#ffebee">
                <p><strong>第14题（暗恋第7周）</strong><br>你想跟小雅表白，但有点紧张。你会：</p>
                <div class="option" data-score="10">A. 鼓起勇气，直接表白。</div>
                <div class="option" data-score="5">B. 先发消息试探她的态度。</div>
                <div class="option" data-score="0">C. 再观察一阵，找合适机会。</div>
                <div class="option" data-score="-5">D. 觉得自己没准备好，放弃表白。</div>
                <div class="response">小雅：<span id="response-14"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="15" data-bg="#ffebee">
                <p><strong>第15题（恋爱第8周）</strong><br>小雅说她感冒了，微信里抱怨好难受。你会：</p>
                <div class="option" data-score="10">A. 买药送到她公司，叮嘱她休息。</div>
                <div class="option" data-score="5">B. 微信安慰，让她多喝热水。</div>
                <div class="option" data-score="0">C. 说感冒没事，睡一觉就好。</div>
                <div class="option" data-score="-5">D. 说她别矫情，小病别抱怨。</div>
                <div class="response">小雅：<span id="response-15"></span><span class="close-btn">×</span></div>
            </div>
        
            <div class="question" data-index="16" data-bg="#ffcdd2">
                <p><strong>第16题（恋爱第9周）</strong><br>小雅约你去网红餐厅吃饭，但排队要1小时。你会：</p>
                <div class="option" data-score="10">A. 陪她排队，边聊边等。</div>
                <div class="option" data-score="5">B. 建议去另一家味道不错的店。</div>
                <div class="option" data-score="0">C. 说排队太麻烦，随便吃点。</div>
                <div class="option" data-score="-10">D. 说你不想排，让她自己去。</div>
                <div class="response">小雅：<span id="response-16"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="17" data-bg="#ffcdd2">
                <p><strong>第17题（恋爱第9周）</strong><br>你想熬夜看球赛，但小雅说太晚了。你会：</p>
                <div class="option" data-score="-5">A. 放弃看球，陪她聊天。</div>
                <div class="option" data-score="10">B. 提议看半场，明天陪她。</div>
                <div class="option" data-score="5">C. 说你很想看，晚点再聊。</div>
                <div class="option" data-score="-10">D. 坚持看完，不理她。</div>
                <div class="response">小雅：<span id="response-17"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="18" data-bg="#ffcdd2">
                <p><strong>第18题（恋爱第10周）</strong><br>小雅发朋友圈晒你们约会照片，配文“开心”。你会：</p>
                <div class="option" data-score="10">A. 点赞评论，写句甜蜜的话。</div>
                <div class="option" data-score="5">B. 点赞，私聊说她发得不错。</div>
                <div class="option" data-score="0">C. 看完没反应，觉得没必要。</div>
                <div class="option" data-score="-10">D. 说别发这些，太高调了。</div>
                <div class="response">小雅：<span id="response-18"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="19" data-bg="#ffcdd2">
                <p><strong>第19题（恋爱第10周）</strong><br>你加班到很晚，小雅微信问你怎么还不回消息。你会：</p>
                <div class="option" data-score="10">A. 道歉，说明加班情况。</div>
                <div class="option" data-score="5">B. 说忙完就回，简单回复。</div>
                <div class="option" data-score="0">C. 说你忙，让她别催。</div>
                <div class="option" data-score="-10">D. 不回，觉得她烦。</div>
                <div class="response">小雅：<span id="response-19"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="20" data-bg="#ffcdd2">
                <p><strong>第20题（恋爱第11周）</strong><br>小雅说想买新手机，问你建议iPhone还是国产机。你会：</p>
                <div class="option" data-score="10">A. 说iPhone好，鼓励她买喜欢的。</div>
                <div class="option" data-score="5">B. 说国产机性价比高，建议考虑。</div>
                <div class="option" data-score="0">C. 说你不懂，随她选。</div>
                <div class="option" data-score="-5">D. 说旧的还能用，没必要换。</div>
                <div class="response">小雅：<span id="response-20"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="21" data-bg="#ffcdd2">
                <p><strong>第21题（恋爱第11周）</strong><br>你想和朋友去唱K，但小雅说她不太想去。你会：</p>
                <div class="option" data-score="-5">A. 说不去唱了，陪她做别的。</div>
                <div class="option" data-score="10">B. 提议一起去，融入她喜欢的活动。</div>
                <div class="option" data-score="5">C. 说你先去，晚点再约她。</div>
                <div class="option" data-score="-10">D. 坚持去唱，不理她。</div>
                <div class="response">小雅：<span id="response-21"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="22" data-bg="#ffcdd2">
                <p><strong>第22题（恋爱第12周）</strong><br>小雅点了一堆外卖，超了你们约好的预算。你会：</p>
                <div class="option" data-score="10">A. 笑着说没事，你来付。</div>
                <div class="option" data-score="5">B. 提醒她适量，省点钱。</div>
                <div class="option" data-score="0">C. 说随便她，爱点啥点啥。</div>
                <div class="option" data-score="-5">D. 说太贵了，劝她退掉。</div>
                <div class="response">小雅：<span id="response-22"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="23" data-bg="#ffcdd2">
                <p><strong>第23题（恋爱第12周）</strong><br>你不小心忘了小雅的生日，她有点不高兴。你会：</p>
                <div class="option" data-score="10">A. 道歉，补送礼物。</div>
                <div class="option" data-score="5">B. 说忘了但不是故意的，哄她。</div>
                <div class="option" data-score="0">C. 说生日不重要，下次注意。</div>
                <div class="option" data-score="-10">D. 说她太计较，小事而已。</div>
                <div class="response">小雅：<span id="response-23"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="24" data-bg="#ffcdd2">
                <p><strong>第24题（恋爱第13周）</strong><br>小雅说她闺蜜觉得你不够浪漫，你会：</p>
                <div class="option" data-score="10">A. 计划个惊喜，证明自己。</div>
                <div class="option" data-score="5">B. 问小雅是不是也这么觉得。</div>
                <div class="option" data-score="0">C. 说你就这样，不用管别人。</div>
                <div class="option" data-score="-10">D. 说她闺蜜多管闲事。</div>
                <div class="response">小雅：<span id="response-24"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="25" data-bg="#ffcdd2">
                <p><strong>第25题（恋爱第13周）</strong><br>你想周末宅家玩游戏，小雅说想出去玩。你会：</p>
                <div class="option" data-score="-5">A. 放弃游戏，陪她出去。</div>
                <div class="option" data-score="10">B. 提议玩一会游戏再陪她。</div>
                <div class="option" data-score="5">C. 说你想休息，改天再约。</div>
                <div class="option" data-score="-10">D. 坚持宅家，不理她。</div>
                <div class="response">小雅：<span id="response-25"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="26" data-bg="#ffcdd2">
                <p><strong>第26题（恋爱第14周）</strong><br>小雅说她工作压力大，想你陪她散步。你会：</p>
                <div class="option" data-score="10">A. 陪她散步，倾听她诉苦。</div>
                <div class="option" data-score="5">B. 说你也累，微信聊聊。</div>
                <div class="option" data-score="0">C. 说改天再聊，你也忙。</div>
                <div class="option" data-score="-10">D. 说她想太多，别emo。</div>
                <div class="response">小雅：<span id="response-26"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="27" data-bg="#ffcdd2">
                <p><strong>第27题（恋爱第14周）</strong><br>你不小心摔坏了小雅的耳机，她问你怎么办。你会：</p>
                <div class="option" data-score="10">A. 道歉，买个新的赔她。</div>
                <div class="option" data-score="5">B. 说会赔，但先看看修不修。</div>
                <div class="option" data-score="0">C. 说不小心，回头处理。</div>
                <div class="option" data-score="-10">D. 说耳机旧了，没啥大不了。</div>
                <div class="response">小雅：<span id="response-27"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="28" data-bg="#ffcdd2">
                <p><strong>第28题（恋爱第15周）</strong><br>小雅发朋友圈和男同事合照，写“工作小伙伴”。你会：</p>
                <div class="option" data-score="10">A. 私聊问照片背景，语气平和。</div>
                <div class="option" data-score="5">B. 点赞但心里有点不舒服。</div>
                <div class="option" data-score="0">C. 不吭声，暗自观察。</div>
                <div class="option" data-score="-10">D. 问她是不是搞暧昧。</div>
                <div class="response">小雅：<span id="response-28"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="29" data-bg="#ffcdd2">
                <p><strong>第29题（恋爱第15周）</strong><br>你想去外地看演唱会，但小雅说路费太贵。你会：</p>
                <div class="option" data-score="-5">A. 放弃计划，陪她做别的。</div>
                <div class="option" data-score="10">B. 提议一起攒钱去看。</div>
                <div class="option" data-score="5">C. 说你很想去，一个人去。</div>
                <div class="option" data-score="-10">D. 说她不懂你的兴趣。</div>
                <div class="response">小雅：<span id="response-29"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="30" data-bg="#ffcdd2">
                <p><strong>第30题（恋爱第16周）</strong><br>小雅忘了你们约好的电影时间，说要加班。你会：</p>
                <div class="option" data-score="10">A. 理解她，改天再约。</div>
                <div class="option" data-score="5">B. 说没事，约下次吧。</div>
                <div class="option" data-score="0">C. 有点不爽，但没说。</div>
                <div class="option" data-score="-10">D. 说她不重视你们约会。</div>
                <div class="response">小雅：<span id="response-30"></span><span class="close-btn">×</span></div>
            </div>
        
            <div class="question" data-index="31" data-bg="#ef9a9a">
                <p><strong>第31题（恋爱第17周）</strong><br>小雅常跟男同事聊微信，她说是工作需要。你会：</p>
                <div class="option" data-score="15">A. 信任她，问她工作情况。</div>
                <div class="option" data-score="5">B. 说注意点，免得误会。</div>
                <div class="option" data-score="0">C. 旁敲侧击问那男的是谁。</div>
                <div class="option" data-score="-15">D. 质问她为什么聊那么多。</div>
                <div class="response">小雅：<span id="response-31"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="32" data-bg="#ef9a9a">
                <p><strong>第32题（恋爱第17周）</strong><br>你因工作压力大，忘了回复小雅的微信，她不高兴。你会：</p>
                <div class="option" data-score="15">A. 道歉，解释并哄她。</div>
                <div class="option" data-score="5">B. 说你忙，晚点聊。</div>
                <div class="option" data-score="0">C. 说她别太敏感。</div>
                <div class="option" data-score="-15">D. 说她烦，忙着呢。</div>
                <div class="response">小雅：<span id="response-32"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="33" data-bg="#ef9a9a">
                <p><strong>第33题（恋爱第18周）</strong><br>小雅想买名牌包，价格是你一个月工资。你会：</p>
                <div class="option" data-score="-10">A. 咬牙买下来当礼物。</div>
                <div class="option" data-score="15">B. 建议买平价但好看的包。</div>
                <div class="option" data-score="0">C. 说随便她，你没意见。</div>
                <div class="option" data-score="-5">D. 说太贵买不起。</div>
                <div class="response">小雅：<span id="response-33"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="34" data-bg="#ef9a9a">
                <p><strong>第34题（恋爱第18周）</strong><br>你想和朋友去旅游，小雅说她不想你去。你会：</p>
                <div class="option" data-score="-10">A. 取消计划，陪她。</div>
                <div class="option" data-score="15">B. 商量时间，找折中方案。</div>
                <div class="option" data-score="5">C. 说你很想去，晚点再谈。</div>
                <div class="option" data-score="-15">D. 坚持去，不理她。</div>
                <div class="response">小雅：<span id="response-34"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="35" data-bg="#ef9a9a">
                <p><strong>第35题（恋爱第19周）</strong><br>小雅说她闺蜜觉得你们不合适，你会：</p>
                <div class="option" data-score="15">A. 问小雅的想法，沟通解决。</div>
                <div class="option" data-score="5">B. 说别管别人，你有信心。</div>
                <div class="option" data-score="0">C. 觉得自己挺好，不理会。</div>
                <div class="option" data-score="-15">D. 说她闺蜜多管闲事。</div>
                <div class="response">小雅：<span id="response-35"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="36" data-bg="#ef9a9a">
                <p><strong>第36题（恋爱第19周）</strong><br>你忘了你们的纪念日，小雅很生气。你会：</p>
                <div class="option" data-score="15">A. 道歉，补办纪念活动。</div>
                <div class="option" data-score="5">B. 说忘了但不是故意的。</div>
                <div class="option" data-score="0">C. 说她太计较了。</div>
                <div class="option" data-score="-15">D. 说纪念日没意义。</div>
                <div class="response">小雅：<span id="response-36"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="37" data-bg="#ef9a9a">
                <p><strong>第37题（恋爱第20周）</strong><br>小雅因工作压力对你发脾气，说你不关心她。你会：</p>
                <div class="option" data-score="15">A. 安慰她，陪她缓解压力。</div>
                <div class="option" data-score="5">B. 说你也累，劝她冷静。</div>
                <div class="option" data-score="0">C. 沉默，等她消气。</div>
                <div class="option" data-score="-15">D. 说她无理取闹。</div>
                <div class="response">小雅：<span id="response-37"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="38" data-bg="#ef9a9a">
                <p><strong>第38题（恋爱第20周）</strong><br>你想换工作到外地，小雅说她不想异地恋。你会：</p>
                <div class="option" data-score="-10">A. 放弃换工作，留下来。</div>
                <div class="option" data-score="15">B. 商量如何保持联系。</div>
                <div class="option" data-score="5">C. 说你很想换，试试异地。</div>
                <div class="option" data-score="-15">D. 说她不支持，分手吧。</div>
                <div class="response">小雅：<span id="response-38"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="39" data-bg="#ef9a9a">
                <p><strong>第39题（恋爱第21周）</strong><br>小雅说她想养猫，你觉得费时费钱。你会：</p>
                <div class="option" data-score="15">A. 同意养，陪她照顾。</div>
                <div class="option" data-score="5">B. 建议养简单宠物，如乌龟。</div>
                <div class="option" data-score="0">C. 说养猫麻烦，劝别养。</div>
                <div class="option" data-score="-15">D. 说你讨厌猫，坚决不养。</div>
                <div class="response">小雅：<span id="response-39"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="40" data-bg="#ef9a9a">
                <p><strong>第40题（恋爱第21周）</strong><br>你不小心看到小雅和前任的聊天，她说只是叙旧。你会：</p>
                <div class="option" data-score="15">A. 平和问她情况，表达不安。</div>
                <div class="option" data-score="5">B. 说相信她，但提醒保持距离。</div>
                <div class="option" data-score="0">C. 暗自观察，不吭声。</div>
                <div class="option" data-score="-15">D. 质问她是不是放不下前任。</div>
                <div class="response">小雅：<span id="response-40"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="41" data-bg="#ef9a9a">
                <p><strong>第41题（恋爱第22周）</strong><br>你因加班错过了小雅的聚会，她不高兴。你会：</p>
                <div class="option" data-score="15">A. 道歉，约下次补偿。</div>
                <div class="option" data-score="5">B. 说工作忙，解释情况。</div>
                <div class="option" data-score="0">C. 说她该理解你。</div>
                <div class="option" data-score="-15">D. 说她太敏感了。</div>
                <div class="response">小雅：<span id="response-41"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="42" data-bg="#ef9a9a">
                <p><strong>第42题（恋爱第22周）</strong><br>小雅说她想去学跳舞，但课很贵。你会：</p>
                <div class="option" data-score="15">A. 支持她，帮她报名。</div>
                <div class="option" data-score="5">B. 说可以但得考虑预算。</div>
                <div class="option" data-score="0">C. 说随便她，你没意见。</div>
                <div class="option" data-score="-15">D. 说学跳舞没必要。</div>
                <div class="response">小雅：<span id="response-42"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="43" data-bg="#ef9a9a">
                <p><strong>第43题（恋爱第23周）</strong><br>你和朋友喝酒到很晚，小雅微信说担心你。你会：</p>
                <div class="option" data-score="15">A. 回复说没事，感谢她关心。</div>
                <div class="option" data-score="5">B. 说玩得开心，晚点聊。</div>
                <div class="option" data-score="0">C. 没回，觉得她多管闲事。</div>
                <div class="option" data-score="-15">D. 说她别管你。</div>
                <div class="response">小雅：<span id="response-43"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="44" data-bg="#ef9a9a">
                <p><strong>第44题（恋爱第23周）</strong><br>小雅说她觉得你不够主动，你会：</p>
                <div class="option" data-score="15">A. 计划浪漫活动，改变她看法。</div>
                <div class="option" data-score="5">B. 问她具体哪里不够主动。</div>
                <div class="option" data-score="0">C. 说你觉得挺好。</div>
                <div class="option" data-score="-15">D. 说她要求太多。</div>
                <div class="response">小雅：<span id="response-44"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="45" data-bg="#ef9a9a">
                <p><strong>第45题（恋爱第24周）</strong><br>你想买新电脑，小雅说你花钱太大手大脚。你会：</p>
                <div class="option" data-score="-10">A. 放弃买电脑，听她建议。</div>
                <div class="option" data-score="15">B. 解释需求，商量预算。</div>
                <div class="option" data-score="5">C. 说你自己决定。</div>
                <div class="option" data-score="-15">D. 说她管太多。</div>
                <div class="response">小雅：<span id="response-45"></span><span class="close-btn">×</span></div>
            </div>
        
            <div class="question" data-index="46" data-bg="#f06292">
                <p><strong>第46题（恋爱第25周）</strong><br>小雅说她觉得你们感情淡了，想冷静几天。你会：</p>
                <div class="option" data-score="20">A. 尊重她，每天关心一下。</div>
                <div class="option" data-score="10">B. 问她具体原因，试图解决。</div>
                <div class="option" data-score="0">C. 说随便她，你也冷静。</div>
                <div class="option" data-score="-25">D. 说分就分，别拖着。</div>
                <div class="response">小雅：<span id="response-46"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="47" data-bg="#f06292">
                <p><strong>第47题（恋爱第25周）</strong><br>你因工作忙忽略了小雅，她说你不在乎她。你会：</p>
                <div class="option" data-score="20">A. 道歉，调整时间陪她。</div>
                <div class="option" data-score="10">B. 说你忙，但会努力。</div>
                <div class="option" data-score="0">C. 说她想太多。</div>
                <div class="option" data-score="-25">D. 说她太黏人。</div>
                <div class="response">小雅：<span id="response-47"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="48" data-bg="#f06292">
                <p><strong>第48题（恋爱第26周）</strong><br>小雅和前任频繁聊天，她说只是朋友。你会：</p>
                <div class="option" data-score="20">A. 坦诚表达底线和不安。</div>
                <div class="option" data-score="10">B. 说相信她，但希望保持距离。</div>
                <div class="option" data-score="0">C. 偷看她手机确认情况。</div>
                <div class="option" data-score="-25">D. 说她放不下前任。</div>
                <div class="response">小雅：<span id="response-48"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="49" data-bg="#f06292">
                <p><strong>第49题（恋爱第26周）</strong><br>你想搬到新城市发展，小雅说她不想异地恋。你会：</p>
                <div class="option" data-score="-20">A. 放弃搬家，留下来。</div>
                <div class="option" data-score="20">B. 商量如何维系异地恋。</div>
                <div class="option" data-score="10">C. 说你必须去，试试异地。</div>
                <div class="option" data-score="-25">D. 说她不支持，分手吧。</div>
                <div class="response">小雅：<span id="response-49"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="50" data-bg="#f06292">
                <p><strong>第50题（恋爱第27周）</strong><br>小雅说她觉得你们价值观不同，考虑分手。你会：</p>
                <div class="option" data-score="25">A. 问具体问题，尝试挽回。</div>
                <div class="option" data-score="10">B. 尊重她，表达不舍。</div>
                <div class="option" data-score="0">C. 说随便她，你不强求。</div>
                <div class="option" data-score="-30">D. 说她不珍惜，分就分。</div>
                <div class="response">小雅：<span id="response-50"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="51" data-bg="#f06292">
                <p><strong>第51题（恋爱第27周）</strong><br>你因压力大对小雅发脾气，她很伤心。你会：</p>
                <div class="option" data-score="25">A. 道歉，解释并安慰她。</div>
                <div class="option" data-score="10">B. 说你压力大，情绪不好。</div>
                <div class="option" data-score="0">C. 沉默，等她自己缓。</div>
                <div class="option" data-score="-25">D. 说她太敏感了。</div>
                <div class="response">小雅：<span id="response-51"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="52" data-bg="#f06292">
                <p><strong>第52题（恋爱第28周）</strong><br>小雅深夜发朋友圈“有些事放不下”，你会：</p>
                <div class="option" data-score="25">A. 主动问她情绪，关心她。</div>
                <div class="option" data-score="10">B. 微信问怎么了，不深究。</div>
                <div class="option" data-score="0">C. 看到后不吭声。</div>
                <div class="option" data-score="-25">D. 觉得她在作，懒得理。</div>
                <div class="response">小雅：<span id="response-52"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="53" data-bg="#f06292">
                <p><strong>第53题（恋爱第28周）</strong><br>你想和家人过节，小雅说她也想你陪她家人。你会：</p>
                <div class="option" data-score="-20">A. 放弃自己计划，陪她家人。</div>
                <div class="option" data-score="25">B. 商量分时间陪双方家人。</div>
                <div class="option" data-score="10">C. 说你先陪家人，改天陪她。</div>
                <div class="option" data-score="-25">D. 说她别管你安排。</div>
                <div class="response">小雅：<span id="response-53"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="54" data-bg="#f06292">
                <p><strong>第54题（恋爱第29周）</strong><br>小雅说她工作崩溃，觉得你们关系没意义。你会：</p>
                <div class="option" data-score="25">A. 安慰她，承诺一起面对。</div>
                <div class="option" data-score="10">B. 说你支持她，但让她想清楚。</div>
                <div class="option" data-score="0">C. 说你也不知道怎么办。</div>
                <div class="option" data-score="-30">D. 说她太情绪化。</div>
                <div class="response">小雅：<span id="response-54"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="55" data-bg="#f06292">
                <p><strong>第55题（恋爱第29周）</strong><br>你发现小雅删了你们部分聊天记录，她说手机卡。你会：</p>
                <div class="option" data-score="25">A. 平和问原因，表达疑惑。</div>
                <div class="option" data-score="10">B. 不提，暗中观察。</div>
                <div class="option" data-score="0">C. 直接问她是不是瞒你。</div>
                <div class="option" data-score="-25">D. 说她不信任你。</div>
                <div class="response">小雅：<span id="response-55"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="56" data-bg="#f06292">
                <p><strong>第56题（恋爱第30周）</strong><br>你因忙碌忘了小雅的生日，她很失望。你会：</p>
                <div class="option" data-score="25">A. 道歉，补办生日惊喜。</div>
                <div class="option" data-score="10">B. 说忘了但会补礼物。</div>
                <div class="option" data-score="0">C. 说生日不重要。</div>
                <div class="option" data-score="-30">D. 说她太计较了。</div>
                <div class="response">小雅：<span id="response-56"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="57" data-bg="#f06292">
                <p><strong>第57题（恋爱第30周）</strong><br>小雅说她想换工作到外地，可能会异地恋。你会：</p>
                <div class="option" data-score="25">A. 支持她，承诺保持联系。</div>
                <div class="option" data-score="10">B. 说异地难，但可以试试。</div>
                <div class="option" data-score="0">C. 劝她别去，异地不靠谱。</div>
                <div class="option" data-score="-30">D. 说你接受不了，分手吧。</div>
                <div class="response">小雅：<span id="response-57"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="58" data-bg="#f06292">
                <p><strong>第58题（恋爱第31周）</strong><br>你和朋友聚会到很晚，小雅说你不重视她。你会：</p>
                <div class="option" data-score="25">A. 道歉，解释并多陪她。</div>
                <div class="option" data-score="10">B. 说你需要社交，晚点聊。</div>
                <div class="option" data-score="0">C. 说她想太多。</div>
                <div class="option" data-score="-30">D. 说她管太多。</div>
                <div class="response">小雅：<span id="response-58"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="59" data-bg="#f06292">
                <p><strong>第59题（恋爱第31周）</strong><br>小雅说她觉得你们没未来，考虑分手。你会：</p>
                <div class="option" data-score="30">A. 沟通问题，尝试挽回。</div>
                <div class="option" data-score="10">B. 说尊重她，但很难受。</div>
                <div class="option" data-score="0">C. 沉默，觉得无力挽回。</div>
                <div class="option" data-score="-35">D. 说她不珍惜，分就分。</div>
                <div class="response">小雅：<span id="response-59"></span><span class="close-btn">×</span></div>
            </div>
            <div class="question" data-index="60" data-bg="#f06292">
                <p><strong>第60题（恋爱第32周）</strong><br>你发现小雅和男同事单独吃饭，没提前告诉你。你会：</p>
                <div class="option" data-score="30">A. 平和问情况，表达感受。</div>
                <div class="option" data-score="10">B. 问她为什么不告诉你。</div>
                <div class="option" data-score="0">C. 冷战，等她解释。</div>
                <div class="option" data-score="-35">D. 说她不尊重你。</div>
                <div class="response">小雅：<span id="response-60"></span><span class="close-btn">×</span></div>
            </div>
        </div>

        </div>
        <div id="result">
            <h2>你的恋爱表现得分</h2>
            <div id="score">0</div>
            <div id="scoreBar"></div>
            <div id="comment"></div>
            <button onclick="location.reload()">再玩一次</button>
            <button onclick="shareResult()">分享你的结果</button>
        </div>
        <div class="music-credit">
			<p>所有文案均来自于Ai大模型</p>
            <p>背景音乐来源：<a href="https://freesound.org/people/GregorQuendel/sounds/714250/" target="_blank">Beethoven - Romance in F major, Op.50 (Piano) by GregorQuendel</a>
			</p>

			<p><a href="https://freesound.org/people/Universfield/sounds/713229/" target="_blank">Emotional Sad Atmosphere with Piano and Violin by Universfield</a>.</p>
        </div>
    </div>
<script>
    let currentQuestion = 1;
    let totalScore = 0;
    let aCount = 0, dCount = 0;
    const questions = document.querySelectorAll('.question');
    const resultDiv = document.getElementById('result');
    const scoreDiv = document.getElementById('score');
    const scoreBar = document.getElementById('scoreBar');
    const commentDiv = document.getElementById('comment');
    const loadingDiv = document.getElementById('loading');
    const bgm1 = document.getElementById('bgm1');
    const bgm2 = document.getElementById('bgm2');
    let currentBGM = bgm1;

    // 小雅的反馈 - 已修复语法错误
    const responsesData = [
       {
           index: 1,
           responses: {
               '10': '哦？你这爱好还挺有意思，有空可以试试看。',
               '5': '嗯，挺好，改天聊聊你还喜欢啥。',
               '5_2': '哈哈，这么低调？那你猜我喜欢干嘛？',
               '-5': '这么忙啊？那你平时咋放松的？'
           }
       },
       {
           index: 2,
           responses: {
               '10': '谢了！你人还挺不错的，下次我请回来。',
               '5': '行吧，记住了，下次我请你喝奶茶。',
               '5_2': '哦对，我试试微信，谢了啊。',
               '-5': '好吧，算了，我自己想办法。'
           }
       },
       {
           index: 3,
           responses: {
               '5': '这部电影？看着还行，行吧，周末看看。',
               '5_2': '抱歉，刚才忙没看微信，周末再说吧？',
               '5_3': '还行吧，最近有点忙，你咋突然问这个？',
               '-5': '你咋不回我了？忙啥呢？'
           }
       },
       {
           index: 4,
           responses: {
               '10': '哈哈，约我？说吧，去哪玩？',
               '5': '没啥计划，你有啥好建议？',
               '0': '',
               '-5': ''
           }
       },
       {
           index: 5,
           responses: {
               '10': '谢啦！你还挺贴心，爱吃辣的你吃吗？',
               '5': '行，算我欠你一顿，啥时候请你？',
               '0': '谢了啊，下次我自己拿。',
               '-5': '哦，行吧，我下次注意。'
           }
       },
       {
           index: 6,
           responses: {
               '10': '哇，认识你朋友？好啊，啥时候去？',
               '5': '嗯，挺好，啥样的聚会？我想想。',
               '0': '',
               '-5': ''
           }
       },
       {
           index: 7,
           responses: {
               '10': '谢了，累死了，我先睡了哈。',
               '5': '是挺辛苦，你也加过班吧？咋挺过来的？',
               '0': '嗯，谢了。',
               '-5': '行吧，习惯了，你忙啥呢？'
           }
       },
       {
           index: 8,
           responses: {
               '10': '哟，奶茶？还挺会挑，谢啦！',
               '5': '我爱喝芒果味的，你也喜欢吗？',
               '0': '谢了，不过这个味道我一般般。',
               '-5': ''
           }
       },
       {
           index: 9,
           responses: {
               '10': '哈哈，你也觉得好笑？还有啥好玩的推荐不？',
               '5': '嘿，品味不错吧？下次我再发点。',
               '0': '',
               '-5': ''
           }
       },
       {
           index: 10,
           responses: {
               '10': '哇，你也喜欢他？有空一起听听啊！',
               '5': '真的？挺有眼光，聊聊你最爱哪首？',
               '0': '',
               '-5': ''
           }
       },
       {
           index: 11,
           responses: {
               '10': '好啊！那周六见，去哪逛好玩？',
               '5': '行吧，抽空来吧，别让我等太久哈。',
               '0': '你咋还问我？想去哪儿你说呗。',
               '-5': '哦，行吧，我自己去也行。'
           }
       },
       {
           index: 12,
           responses: {
               '10': '谢了，买新的还挺快，算你有心。',
               '5': '好吧，赔就行，啥时候还我？',
               '0': '忙归忙，书你得找回来吧？',
               '-5': '那是我喜欢的书，你咋这么不在意？'
           }
       },
       {
           index: 13,
           responses: {
               '10': '哈哈，谢谢夸！有空看看我穿咋样？',
               '5': '哟，点赞了？没啥想说的？',
               '0': '',
               '-5': ''
           }
       },
       {
           index: 14,
           responses: {
               '10': '哇，这么直接？让我想想哈，挺意外的。',
               '5': '嗯？你这啥意思？说清楚点呗。',
               '0': '',
               '-5': ''
           }
       },
       {
           index: 15,
           responses: {
               '10': '药都送来了？谢啦，你还挺靠谱的。',
               '5': '嗯，谢了，我喝点热水试试。',
               '0': '没事？难受死了好吧。',
               '-5': '矫情？感冒你试试看？'
           }
       },
       {
           index: 16,
           responses: {
               '10': '谢啦，陪我排队还挺有耐心的！',
               '5': '嗯，换家也行吧，不过网红店我还想试试。',
               '0': '麻烦啥？偶尔排队不也挺好玩？',
               '-10': '行吧，我自己去，你忙你的。'
           }
       },
       {
           index: 17,
           responses: {
               '-5': '陪我聊挺好，不过你真不看球了？',
               '10': '行，半场就半场，明天记得陪我哦。',
               '5': '好吧，你看你的球，晚点记得回我。',
               '-10': '你看球比我重要是吧？行，你继续。'
           }
       },
       {
           index: 18,
           responses: {
               '10': '哈哈，你这评论甜得我牙疼！',
               '5': '还不错吧？你也发一个呗。',
               '0': '',
               '-10': '高调咋了？不发你咋不说？'
           }
       },
       {
           index: 19,
           responses: {
               '10': '好吧，加班辛苦了，早点休息哈。',
               '5': '行，忙完回我，别又忘了。',
               '0': '我催啥了？就问问你咋了。',
               '-10': '不回是吧？行，你忙。'
           }
       },
       {
           index: 20,
           responses: {
               '10': '哈哈，iPhone是吧？行，我再想想。',
               '5': '嗯，国产也不错，谢了啊。',
               '0': '随我？那我自己挑了啊。',
               '-5': '还能用？用得我都烦了！'
           }
       },
       {
           index: 21,
           responses: {
               '-5': '陪我挺好，不过你朋友不会怪我吧？',
               '10': '行吧，一起去试试，你朋友咋样？',
               '5': '好吧，你去玩，晚点找我。',
               '-10': '行，你玩你的，我随便。'
           }
       },
       {
           index: 22,
           responses: {
               '10': '哈哈，行，我付！下次你请啊。',
               '5': '好吧，下次我注意点预算。',
               '0': '随便？那我可点狠了啊。',
               '-5': '退啥？我就想吃这个！'
           }
       },
       {
           index: 23,
           responses: {
               '10': '好吧，礼物收下了，下次别忘了！',
               '5': '不是故意的？行吧，哄得还行。',
               '0': '不重要？你试试被忘的感觉！',
               '-10': '小事？我生日你觉得是小事？'
           }
       },
       {
           index: 24,
           responses: {
               '10': '哇，这惊喜可以啊！你还挺有心的。',
               '5': '我？还行吧，你偶尔浪漫点呗。',
               '0': '就这样？那我可得想想了。',
               '-10': '我闺蜜咋多管闲事了？你有意见？'
           }
       },
       {
           index: 25,
           responses: {
               '-5': '陪我出去挺好，不过你游戏咋不玩了？',
               '10': '行，玩会游戏就陪我，公平！',
               '5': '休息？好吧，改天别忘了哦。',
               '-10': '行，你玩你的，我自己出去。'
           }
       },
       {
           index: 26,
           responses: {
               '10': '谢了，陪我散步心情好多了。',
               '5': '好吧，微信聊也行，你咋这么忙？',
               '0': '改天？你现在就没空吗？',
               '-10': 'emo？我是真累好吧！'
           }
       },
       {
           index: 27,
           responses: {
               '10': '谢了，新的耳机还行，算你靠谱。',
               '5': '修？行吧，快点搞定啊。',
               '0': '回头？别拖太久啊。',
               '-10': '旧了？那也是我常用的好吧！'
           }
       },
       {
           index: 28,
           responses: {
               '10': '没事，就是同事，谢你问我。',
               '5': '点赞了？没啥想说的？',
               '0': '',
               '-10': '暧昧？你想太多了吧！'
           }
       },
       {
           index: 29,
           responses: {
               '-5': '不去了？行吧，陪我干点别的也行。',
               '10': '攒钱？好主意，咱俩一起努力！',
               '5': '一个人去？行吧，你开心就好。',
               '-10': '不懂？我也没说不让你去啊！'
           }
       },
       {
           index: 30,
           responses: {
               '10': '谢了，最近真忙，改天我请你看！',
               '5': '好，下次我一定到！',
               '0': '你咋不说话？生气了？',
               '-10': '不重视？我加班也控制不了啊！'
           }
       },
       {
           index: 31,
           responses: {
               '15': '就聊工作，谢你信任，最近项目忙疯了。',
               '5': '误会啥？都是工作，你想多了吧。',
               '0': '你问这个干嘛？就是同事啊。',
               '-15': '质问我？你是不是不信任我？'
           }
       },
       {
           index: 32,
           responses: {
               '15': '好吧，忙归忙，哄我还算有心。',
               '5': '忙？行吧，晚点你可别又忘了。',
               '0': '敏感？我就问你一句咋了？',
               '-15': '烦？行，你忙你的去吧！'
           }
       },
       {
           index: 33,
           responses: {
               '-10': '哇，包好看！不过你别太破费了。',
               '15': '嗯，你说得也有道理，我再看看。',
               '0': '随便？那我可真买了啊。',
               '-5': '买不起？我也没非要你买啊！'
           }
       },
       {
           index: 34,
           responses: {
               '-10': '陪我挺好，不过你朋友咋想？',
               '15': '行，商量着来，咱俩都开心最好。',
               '5': '去吧，但别老丢下我啊。',
               '-15': '行，你去你的，我随便。'
           }
       },
       {
           index: 35,
           responses: {
               '15': '我还好啦，聊聊我就放心了。',
               '5': '嗯，信心是好，你再多关心点呗。',
               '0': '不理？那我可得自己想想了。',
               '-15': '多管闲事？我闺蜜也是为我好！'
           }
       },
       {
           index: 36,
           responses: {
               '15': '补办还行，算你有心，下次别忘了！',
               '5': '不是故意的？行吧，补个礼物呗。',
               '0': '计较？纪念日对你不重要？',
               '-15': '没意义？那咱俩感情有意义吗？'
           }
       },
       {
           index: 37,
           responses: {
               '15': '谢了，陪我聊聊我心情好多了。',
               '5': '我也累，但你能不能多关心点？',
               '0': '你不说话啥意思？不关心我？',
               '-15': '无理取闹？我压力大你还这么说！'
           }
       },
       {
           index: 38,
           responses: {
               '-10': '留下来？谢了，但你真不后悔？',
               '15': '行，咱俩好好计划，我不想分开。',
               '5': '异地？行吧，但你得常联系我。',
               '-15': '分手？你连谈都不想谈？'
           }
       },
       {
           index: 39,
           responses: {
               '15': '太好了！咱俩一起养猫，开心！',
               '5': '乌龟？也行吧，但猫多可爱啊。',
               '0': '麻烦？养猫有啥麻烦的？',
               '-15': '讨厌猫？你也太无趣了吧！'
           }
       },
       {
           index: 40,
           responses: {
               '15': '就叙旧，谢你理解，我会注意的。',
               '5': '相信我？那提醒啥，怕我跑了？',
               '0': '',
               '-15': '放不下？你这不信任也太离谱了！'
           }
       },
       {
           index: 41,
           responses: {
               '15': '好吧，下次补偿我，不然不原谅你！',
               '5': '忙归忙，下次早点说好不好？',
               '0': '理解？我也想你陪我啊！',
               '-15': '敏感？你错过聚会还怪我？'
           }
       },
       {
           index: 42,
           responses: {
               '15': '谢了！你支持我我超开心！',
               '5': '预算？行吧，我再看看便宜的。',
               '0': '随便？那我自己决定了啊。',
               '-15': '没必要？我喜欢你管得着吗？'
           }
       },
       {
           index: 43,
           responses: {
               '15': '没事就好，谢你回我，早点回家！',
               '5': '开心？行吧，晚点记得回我。',
               '0': '不回我？担心你都不行？',
               '-15': '别管？行，你随便玩吧！'
           }
       },
       {
           index: 44,
           responses: {
               '15': '哇，这活动不错！你主动我喜欢！',
               '5': '嗯，比如多约我出去呗，咋样？',
               '0': '挺好？你再想想我为啥这么说。',
               '-15': '要求多？那你觉得我该咋办？'
           }
       },
       {
           index: 45,
           responses: {
               '-10': '不买了？行吧，省点也好。',
               '15': '好，商量着来，我也不想管太多。',
               '5': '自己决定？行吧，别后悔就行。',
               '-15': '管太多？我提醒你一句都不行？'
           }
       },
       {
           index: 46,
           responses: {
               '20': '谢你理解，我冷静下，咱再聊。',
               '10': '原因？最近感觉你没那么上心了。',
               '0': '随便？那咱俩都冷静好了。',
               '-25': '分？这么快下结论，你认真的？'
           }
       },
       {
           index: 47,
           responses: {
               '20': '谢了，你肯陪我我挺感动。',
               '10': '努力？行吧，我希望你多点时间。',
               '0': '想太多？我感觉不到你在乎啊！',
               '-25': '黏人？我只是想你关心我！'
           }
       },
       {
           index: 48,
           responses: {
               '20': '好，我明白你的感受，我会注意。',
               '10': '保持距离？行吧，我尽量。',
               '0': '你看我手机？不信任我？',
               '-25': '放不下？你这猜得也太离谱了！'
           }
       },
       {
           index: 49,
           responses: {
               '-20': '留下来？谢了，但你真不后悔？',
               '20': '好，咱俩计划好，我不想失去你。',
               '10': '试试？行吧，但你得常联系我。',
               '-25': '分手？你连试都不想试？'
           }
       },
       {
           index: 50,
           responses: {
               '25': '好，咱聊聊，或许能找到办法。',
               '10': '谢你理解，我也舍不得，但得想想。',
               '0': '随便？那你真不在乎了？',
               '-30': '不珍惜？你这话你也说得出口？'
           }
       },
       {
           index: 51,
           responses: {
               '25': '好，谢你道歉，咱好好聊聊。',
               '10': '压力大？但你冲我发火我难受啊。',
               '0': '不说话？你觉得这能解决问题？',
               '-25': '敏感？我伤心你还怪我？'
           }
       },
       {
           index: 52,
           responses: {
               '25': '谢谢你关心，我心情不好，聊聊吧。',
               '10': '没事，就是感慨下，谢你问我。',
               '0': '',
               '-25': '作？我在乎的事你觉得是作？'
           }
       },
       {
           index: 53,
           responses: {
               '-20': '陪我家人挺好，但你家人咋办？',
               '25': '好，咱俩商量好，双方都照顾到！',
               '10': '行吧，改天记得也陪我家人。',
               '-25': '不管？你这也太自我了吧！'
           }
       },
       {
           index: 54,
           responses: {
               '25': '谢你陪我，我感觉好多了，咱一起努力。',
               '10': '想清楚？行吧，但我现在很乱。',
               '0': '不知道？那你觉得咱俩还有意义吗？',
               '-30': '情绪化？我崩溃你还这么说？'
           }
       },
       {
           index: 55,
           responses: {
               '25': '手机确实卡了，谢你问，我没啥瞒你的。',
               '10': '观察我？有啥好观察的，直接问啊。',
               '0': '直接问？干嘛不信任我？',
               '-25': '不信任？你这话说太伤人了！'
           }
       },
       {
           index: 56,
           responses: {
               '25': '惊喜不错，算你有心，下次别忘了！',
               '10': '补礼物？行吧，勉强原谅你。',
               '0': '不重要？生日对我很重要好吧！',
               '-30': '计较？你忘了生日还怪我？'
           }
       },
       {
           index: 57,
           responses: {
               '25': '谢你支持，咱俩一起努力不分开！',
               '10': '试试？好吧，但我怕异地会累。',
               '0': '不靠谱？我想试试你都不支持？',
               '-30': '分手？你连商量都不想？'
           }
       },
       {
           index: 58,
           responses: {
               '25': '好，谢你道歉，多陪我点就行。',
               '10': '社交我懂，但你也得顾着我啊。',
               '0': '想太多？我只是觉得你不在乎！',
               '-30': '管太多？我关心你都不行？'
           }
       },
       {
           index: 59,
           responses: {
               '30': '好，咱聊聊，我也不想放弃咱俩。',
               '10': '谢你理解，但我真怕没未来。',
               '0': '沉默？那咱俩真没得谈了？',
               '-35': '不珍惜？你这话让我心寒！'
           }
       },
       {
           index: 60,
           responses: {
               '30': '就吃个饭，谢你问清楚，我下次会先跟你说。',
               '10': '没说？工作忙忘了，你至于这么在意吗？',
               '0': '你不说话啥意思？有意见就直说啊！',
               '-35': '不尊重？你上来就指责我，咱还能好好聊吗？'
           }
       }
    ];
     let musicHasStarted = false;
	
function startMusic() {
    // 检查音乐是否尚未开始，并且播放器当前是暂停的
    if (!musicHasStarted && bgm1.paused) {
        bgm1.volume = 0.2;
        bgm1.play().catch(e => console.error('BGM1 play error:', e));
        musicHasStarted = true; // 标记为已开始，确保此函数只生效一次
    }
}
	
   window.addEventListener('load', () => {
    setTimeout(() => {
        loadingDiv.style.display = 'none';
        document.querySelector('.container').style.display = 'block';
    }, 500);

    // 当用户点击加载界面时，调用我们新的启动函数
    loadingDiv.addEventListener('click', () => {
        loadingDiv.style.display = 'none';
        document.querySelector('.container').style.display = 'block';
        startMusic(); // <-- 调用新的函数
    });
});

    // BGM渐变切换
    function crossfadeBGM(nextBGM) {
        if (currentBGM === nextBGM || !currentBGM) return;
        const fadeOut = setInterval(() => {
            if (currentBGM.volume > 0.05) {
                currentBGM.volume -= 0.05;
            } else {
                clearInterval(fadeOut);
                currentBGM.pause();
                currentBGM.currentTime = 0;
                currentBGM.volume = 0.2; // Reset volume for next time
                
                nextBGM.volume = 0;
                nextBGM.play().catch(e => console.error('BGM play error:', e));
                const fadeIn = setInterval(() => {
                    if (nextBGM.volume < 0.2) {
                        nextBGM.volume = Math.min(nextBGM.volume + 0.05, 0.2);
                    } else {
                        clearInterval(fadeIn);
                        nextBGM.volume = 0.2;
                    }
                }, 50);
                currentBGM = nextBGM;
            }
        }, 50);
    }

    // 更新BGM - 修复切换时机
    function updateBGM() {
        const targetBGM = currentQuestion <= 29 ? bgm1 : bgm2;
        if (currentBGM !== targetBGM) {
            crossfadeBGM(targetBGM);
        }
    }

    // 显示第一题
    document.querySelector('.container').style.display = 'none';
    const firstQuestion = document.querySelector('.question[data-index="1"]');
    if(firstQuestion) {
        firstQuestion.classList.add('active');
    }


    // 消息框交互 - 修复显示逻辑
    function showResponse(responseDiv, optionIndex) {
        const questionData = responsesData.find(q => q.index === currentQuestion);
        let responseText = '';

        if (questionData && questionData.responses) {
            const responseKeys = Object.keys(questionData.responses); // ['10', '5', '5_2', '-5']
            const responseKey = responseKeys[optionIndex];
            if (responseKey) {
                responseText = questionData.responses[responseKey];
            }
        }

        const textContainer = responseDiv.querySelector(`#response-${currentQuestion}`);
        if(textContainer){
             textContainer.textContent = responseText;
        }

        responseDiv.classList.add('active');
        responseDiv.style.display = 'block';

        let touchStartY = 0;
        const handleTouchStart = (e) => {
            touchStartY = e.touches[0].clientY;
        };
        const handleTouchMove = (e) => {
            const deltaY = e.touches[0].clientY - touchStartY;
            if (deltaY < -50) { // Swipe up
                responseDiv.classList.remove('active');
                responseDiv.style.display = 'none';
                responseDiv.removeEventListener('touchstart', handleTouchStart);
                responseDiv.removeEventListener('touchmove', handleTouchMove);
            }
        };

        if (window.innerWidth <= 600) {
            responseDiv.addEventListener('touchstart', handleTouchStart);
            responseDiv.addEventListener('touchmove', handleTouchMove);
        }

        const closeBtn = responseDiv.querySelector('.close-btn');
        const handleClose = () => {
            responseDiv.classList.remove('active');
            responseDiv.style.display = 'none';
            closeBtn.removeEventListener('click', handleClose);
        };
        if(closeBtn){
            closeBtn.addEventListener('click', handleClose);
        }
    }
startMusic();
    // 选项点击事件 - 修复逻辑
    document.querySelectorAll('.option').forEach(option => {
        option.addEventListener('click', () => {
            const score = parseInt(option.dataset.score);
            totalScore += score;
            if (option.textContent.startsWith('A.')) aCount++;
            if (option.textContent.startsWith('D.')) dCount++;

            const current = document.querySelector('.question.active');
            const responseDiv = current.querySelector('.response');
            
            const optionsInCurrent = Array.from(current.querySelectorAll('.option'));
            const optionIndex = optionsInCurrent.indexOf(option);

            showResponse(responseDiv, optionIndex);

            setTimeout(() => {
                if (responseDiv) {
                    responseDiv.classList.remove('active');
                    responseDiv.style.display = 'none';
                }
                current.classList.remove('active');
                current.style.display = 'none';
                if (currentQuestion < questions.length) {
                    currentQuestion++;
                    const nextQuestion = document.querySelector(`.question[data-index="${currentQuestion}"]`);
                    nextQuestion.classList.add('active');
                    nextQuestion.style.display = 'block';
                    document.body.style.backgroundColor = nextQuestion.dataset.bg;
                    updateBGM();
                } else {
                    showResult();
                }
            }, 1500);
        });
    });

    // 动态显示分数
    function showResult() {
        document.getElementById('questions').style.display = 'none';
        resultDiv.style.display = 'block';
        let bgColor = '#ffebee';
        if (totalScore >= 350) { // 调整颜色阈值
             bgColor = '#4caf50';
        } else if (totalScore < 125) {
             bgColor = '#b71c1c';
        }
        document.body.style.backgroundColor = bgColor;

        let displayScore = 0;
        const finalScore = totalScore;
        const increment = Math.ceil(finalScore / 100);
        
        const interval = setInterval(() => {
            displayScore += increment;
            if ((increment > 0 && displayScore >= finalScore) || (increment < 0 && displayScore <= finalScore)) {
                clearInterval(interval);
                displayScore = finalScore;
                scoreDiv.textContent = finalScore;
                const scorePercentage = Math.max(0, Math.min(100, (finalScore + 485) / (835 + 485) * 100));
                scoreBar.style.width = `${scorePercentage}%`;
                showComment();
            } else {
                scoreDiv.textContent = displayScore;
                const scorePercentage = Math.max(0, Math.min(100, (displayScore + 485) / (835 + 485) * 100));
                scoreBar.style.width = `${scorePercentage}%`;
            }
        }, 20); //加快动画速度
        
        if (currentBGM) {
            currentBGM.pause();
        }
    }

// 评语
function showComment() {
    let comment = '';
    // 最高分：885, 最低分：-855

    if (totalScore >= 650) {
        comment = '你对爱情的投入令人动容，无私的奉献与极致的温柔是你最闪亮的勋章。但请记得，最好的爱情是双向奔赴，如同一场和谐的共舞。在深爱对方的同时，也别忘了留一份空间给自己，让你的光芒独立闪耀。健康的爱，是相互滋养，而非单向燃烧。';
    
    } else if (totalScore >= 300) {
        comment = '你是一位温暖而理智的恋人，懂得用心经营感情，既能给予及时的关怀，也保持着恰当的分寸。你的爱如春日暖阳，和煦而舒适。继续保持这份真诚与智慧的平衡，用心沟通，你们的爱情之花必将绚烂绽放！';
    
    } else if (totalScore >= 0) {
        comment = '你在爱情中似乎有些谨慎，习惯于在付出前观察与试探。这是一种自我保护，但爱情的温度需要双方共同点燃。试着再勇敢一点，多一些主动的分享与奔赴，你会发现，当心扉向对方敞开时，能收获到加倍的温暖与惊喜。';
    
    } else if (totalScore >= -300) {
        comment = '你的行为似乎在向对方传递一种疏离的信号，或许是无心之举，但长此以往可能会消磨掉对方的热情。爱情是一株需要精心灌溉的植物，偶尔的漠视与被动，都可能让它枯萎。请警惕，如果这是你在乎的关系，是时候投入更多的关心与行动了。';
    
    } else {
        comment = '危险！你的选择正在将这段关系推向悬崖边缘。言语中的冷漠与行为上的回避，如同一把利刃，正在深刻地伤害着对方的感情。爱情经不起这样的消耗。若想挽回，你需要进行深刻的反思，并以百分之百的诚意和彻底的行动改变，否则，终将面临分崩离析的结局。';
    }
    
    commentDiv.textContent = comment + ' 爱情是一场需要共同探索的旅程，愿你用真心与智慧，找到并维系那束属于你的幸福光芒！';
}



    // 分享结果
    function shareResult() {
        const resultText = `我在《恋爱周期情景测试》得了${totalScore}分！${commentDiv.textContent} 快来测测你的恋爱表现吧！`;
        const resultUrl = 'https://linxiaodong688.github.io/tgpage/';

        // 检查浏览器是否支持 Web Share API (navigator.share)
        if (navigator.share) {
            navigator.share({
                title: '恋爱周期情景测试结果', // 分享的标题
                text: resultText,               // 分享的文本内容
                url: resultUrl                  // 分享的链接
            })
            .then(() => console.log('成功调用原生分享功能'))
            .catch((error) => {
                console.log('调用原生分享失败', error);
                // 如果用户取消了分享，或者发生了其他错误，可以执行后备方案
                fallbackShare(resultText + ' ' + resultUrl);
            });
        } else {
            // 如果浏览器不支持，则执行后备方案（复制到剪贴板）
            console.log('浏览器不支持原生分享，启用后备方案。');
            fallbackShare(resultText + ' ' + resultUrl);
        }
    }

    // 后备的分享方案（复制到剪贴板）
    function fallbackShare(textToCopy) {
        navigator.clipboard.writeText(textToCopy).then(() => {
            alert('结果已复制到剪贴板，快去粘贴分享吧！');
        }).catch(err => {
            console.error('复制失败: ', err);
            alert('复制失败，请手动复制结果。');
        });
    }

</script>

</body>
</html>
